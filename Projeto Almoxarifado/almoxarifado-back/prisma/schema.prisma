generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int      @id @default(autoincrement())
  name     String
  email    String   @unique
  password String
  Movimentacao Movimentacao[]
}

model Categoria {
  id   Int    @id @default(autoincrement())
  nome String
  Insumo Insumo[]
}

model Insumo {
  id          Int      @id @default(autoincrement())
  nome        String
  descricao   String?
  categoria   Categoria? @relation(fields: [categoriaId], references: [id])
  categoriaId Int?
  quantidade  Int      @default(0)
  minimo      Int      @default(0)
  custo       Float    @default(0)
  Movimentacao Movimentacao[]
}

model Movimentacao {
  id              Int      @id @default(autoincrement())
  insumo          Insumo   @relation(fields: [insumoId], references: [id])
  insumoId        Int
  tipo            String
  quantidade      Int
  data_movimentacao DateTime
  requisitante    String
  usuario         User?    @relation(fields: [usuarioId], references: [id])
  usuarioId       Int?
}
